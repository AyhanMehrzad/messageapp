"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[140],{8140:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(5043),t=a(9570),i=a(4119),c=a(579);const l=e=>{let{user:s,isConnected:a,onStopHardware:l}=e;const[r,o]=(0,n.useState)(!1),[d,p]=(0,n.useState)("All"),[h,x]=(0,n.useState)(!1),m=e=>{switch(x(!1),e){case"search":o(!0);break;case"wipe":window.confirm("Are you sure you want to delete ALL messages? This cannot be undone.")&&fetch("/api/chat/secure_channel/clear",{method:"DELETE"}).then(e=>e.json()).then(e=>{console.log("Chat cleared",e)}).catch(e=>console.error("Failed to clear chat",e));break;case"tv":l&&l(),window.open("https://youtube.com/tv","_blank");break;case"ping":window.dispatchEvent(new CustomEvent("header-action",{detail:{action:"ping"}}))}};return(0,c.jsx)("header",{className:"app-header",children:r?(0,c.jsxs)(i.P.div,{className:"header-search-container",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,c.jsxs)("div",{className:"search-top-row",children:[(0,c.jsx)("input",{type:"text",placeholder:"Search...",className:"search-input",autoFocus:!0}),(0,c.jsx)("button",{className:"btn-calendar",title:"Jump to Date",children:"\ud83d\udcc5"}),(0,c.jsx)("button",{className:"btn-close-search",onClick:()=>o(!1),children:"\u2715"})]}),(0,c.jsx)("div",{className:"search-chips-row",children:["All","Photos","Videos","Files"].map(e=>(0,c.jsx)("button",{className:"chip ".concat(d===e?"active":""),onClick:()=>p(e),children:e},e))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"header-main",children:[(0,c.jsx)("div",{className:"app-title",children:"SecureChanel"}),(0,c.jsx)("div",{className:"user-status ".concat(a?"connected":""),children:a?"\u25cf SECURE":"\u25cb CONNECTING..."})]}),(0,c.jsxs)("div",{className:"header-actions",style:{position:"relative"},children:[(0,c.jsx)("button",{className:"btn-menu-toggle",onClick:()=>x(!h),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#fff"},children:"\u22ee"}),(0,c.jsx)(t.N,{children:h&&(0,c.jsxs)(i.P.div,{className:"header-dropdown",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{type:"spring",stiffness:300,damping:20},style:{position:"absolute",top:"40px",right:"0",background:"#fff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"8px 0",zIndex:100,minWidth:"200px",color:"#000"},children:[(0,c.jsxs)("div",{className:"menu-item",onClick:()=>m("search"),style:{padding:"10px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[(0,c.jsx)("span",{children:"\ud83d\udd0d"})," Search"]}),(0,c.jsxs)("div",{className:"menu-item",onClick:()=>m("wipe"),style:{padding:"10px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",color:"#ff3b30"},children:[(0,c.jsx)("span",{children:"\ud83d\uddd1\ufe0f"})," Wipe Chat"]}),(0,c.jsxs)("div",{className:"menu-item",onClick:()=>m("tv"),style:{padding:"10px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[(0,c.jsx)("span",{children:"\ud83d\udcfa"})," Go to TV"]}),(0,c.jsxs)("div",{className:"menu-item",onClick:()=>m("ping"),style:{padding:"10px 16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[(0,c.jsx)("span",{children:"\ud83d\udd14"})," Ping User"]})]})})]})]})})}}}]);
//# sourceMappingURL=140.90e6268f.chunk.js.map