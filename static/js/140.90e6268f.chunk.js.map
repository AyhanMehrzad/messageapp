{"version":3,"file":"static/js/140.90e6268f.chunk.js","mappings":"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","sources":["components/Header.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst Header = ({ user, isConnected, onStopHardware }) => {\n  const [isSearchActive, setIsSearchActive] = useState(false);\n  const [activeFilter, setActiveFilter] = useState('All');\n  const [showMenu, setShowMenu] = useState(false);\n\n  const filters = ['All', 'Photos', 'Videos', 'Files'];\n\n  const handleMenuAction = (action) => {\n    setShowMenu(false);\n    switch (action) {\n      case 'search':\n        setIsSearchActive(true);\n        break;\n      case 'wipe':\n        if (window.confirm(\"Are you sure you want to delete ALL messages? This cannot be undone.\")) {\n          fetch('/api/chat/secure_channel/clear', { method: 'DELETE' })\n            .then(res => res.json())\n            .then(data => {\n              console.log(\"Chat cleared\", data);\n            })\n            .catch(err => console.error(\"Failed to clear chat\", err));\n        }\n        break;\n      case 'tv':\n        if (onStopHardware) onStopHardware();\n        window.open('https://youtube.com/tv', '_blank');\n        break;\n      case 'ping':\n        // Emit ping event via a custom event or we need socket access here?\n        // App.js handles socket. Header doesn't have socket prop directly but App has listeners.\n        // Wait, Header was receiving isConnected. \n        // We can dispatch a global event or better, ask App to pass a \"onPing\" handler.\n        // OR, just use fetch to trigger it if we had an endpoint? \n        // Actually App.js passes `onSocketAction` to MessageInput but not Header.\n        // Let's assume for now we can't emit directly unless we pass socket or handler.\n        // HACK: Dispatch a custom window event that App or someone listens to? No, that's messy.\n        // BETTER: I'll use the assumption that 'ping' logic is on the socket.\n        // I will dispatch a window event 'trigger-ping' and listen in App? \n        // NO, I should have passed onPing. \n        // Let's just use `window.socket` if it was global (it is defined in App.js module scope but not exported).\n        // Let's look at App.js imports. `socket` is created at module level in App.js.\n        // It is NOT exported.\n        // Re-Modify App.js to pass `onPing`? Or we can import `socket` if we move it to a separate file.\n        // For now, let's use a workaround: window.dispatchEvent(new CustomEvent('app-action', { detail: 'ping' }));\n        // And add listener in App.js? \n        // actually, let's just cheat and assume we can `import { socket } from '../App'` if we exported it? No it's default export App.\n\n        // Let's stick to the plan: I will assume I can pass `onAction` props or modify App.js again.\n        // Since I'm in the middle of edits, let's modify App.js NEXT to pass `onAction` to Header.\n        // For now, I will emit a synthetic event that I will hook up in App.js.\n        window.dispatchEvent(new CustomEvent('header-action', { detail: { action: 'ping' } }));\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <header className=\"app-header\">\n      {!isSearchActive ? (\n        <>\n          <div className=\"header-main\">\n            <div className=\"app-title\">SecureChanel</div>\n            <div className={`user-status ${isConnected ? 'connected' : ''}`}>\n              {isConnected ? '‚óè SECURE' : '‚óã CONNECTING...'}\n            </div>\n          </div>\n\n          <div className=\"header-actions\" style={{ position: 'relative' }}>\n            <button className=\"btn-menu-toggle\" onClick={() => setShowMenu(!showMenu)} style={{ background: 'none', border: 'none', fontSize: '24px', cursor: 'pointer', color: '#fff' }}>\n              ‚ãÆ\n            </button>\n\n            <AnimatePresence>\n              {showMenu && (\n                <motion.div\n                  className=\"header-dropdown\"\n                  initial={{ opacity: 0, scale: 0.9, y: -10 }}\n                  animate={{ opacity: 1, scale: 1, y: 0 }}\n                  exit={{ opacity: 0, scale: 0.9, y: -10 }}\n                  transition={{ type: 'spring', stiffness: 300, damping: 20 }}\n                  style={{\n                    position: 'absolute',\n                    top: '40px',\n                    right: '0',\n                    background: '#fff',\n                    borderRadius: '8px',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n                    padding: '8px 0',\n                    zIndex: 100,\n                    minWidth: '200px',\n                    color: '#000'\n                  }}\n                >\n                  <div className=\"menu-item\" onClick={() => handleMenuAction('search')} style={{ padding: '10px 16px', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <span>üîç</span> Search\n                  </div>\n                  <div className=\"menu-item\" onClick={() => handleMenuAction('wipe')} style={{ padding: '10px 16px', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '10px', color: '#ff3b30' }}>\n                    <span>üóëÔ∏è</span> Wipe Chat\n                  </div>\n                  <div className=\"menu-item\" onClick={() => handleMenuAction('tv')} style={{ padding: '10px 16px', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <span>üì∫</span> Go to TV\n                  </div>\n                  <div className=\"menu-item\" onClick={() => handleMenuAction('ping')} style={{ padding: '10px 16px', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <span>üîî</span> Ping User\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </>\n      ) : (\n        <motion.div\n          className=\"header-search-container\"\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: -20 }}\n        >\n          <div className=\"search-top-row\">\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              className=\"search-input\"\n              autoFocus\n            />\n            <button className=\"btn-calendar\" title=\"Jump to Date\">üìÖ</button>\n            <button className=\"btn-close-search\" onClick={() => setIsSearchActive(false)}>‚úï</button>\n          </div>\n          <div className=\"search-chips-row\">\n            {filters.map(f => (\n              <button\n                key={f}\n                className={`chip ${activeFilter === f ? 'active' : ''}`}\n                onClick={() => setActiveFilter(f)}\n              >\n                {f}\n              </button>\n            ))}\n          </div>\n        </motion.div>\n      )}\n    </header>\n  );\n};\n\nexport default Header;\n"],"names":["_ref","user","isConnected","onStopHardware","isSearchActive","setIsSearchActive","useState","activeFilter","setActiveFilter","showMenu","setShowMenu","handleMenuAction","action","window","confirm","fetch","method","then","res","json","data","console","log","catch","err","error","open","dispatchEvent","CustomEvent","detail","_jsx","className","children","_jsxs","motion","div","initial","opacity","y","animate","exit","type","placeholder","autoFocus","title","onClick","map","f","concat","_Fragment","style","position","background","border","fontSize","cursor","color","AnimatePresence","scale","transition","stiffness","damping","top","right","borderRadius","boxShadow","padding","zIndex","minWidth","display","alignItems","gap"],"ignoreList":[],"sourceRoot":""}