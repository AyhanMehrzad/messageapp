{"version":3,"file":"static/js/377.026b5c66.chunk.js","mappings":"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","sources":["../node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs","../node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs","../node_modules/framer-motion/dist/es/value/use-motion-value.mjs","../node_modules/framer-motion/dist/es/value/use-combine-values.mjs","../node_modules/framer-motion/dist/es/value/use-transform.mjs","../node_modules/framer-motion/dist/es/value/use-computed.mjs","../node_modules/motion-dom/dist/es/utils/transform.mjs","components/ChatWindow.js"],"sourcesContent":["import { invariant } from 'motion-utils';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\nfunction setVariants(visualElement, variantLabels) {\n    const reversedLabels = [...variantLabels].reverse();\n    reversedLabels.forEach((key) => {\n        const variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        if (visualElement.variantChildren) {\n            visualElement.variantChildren.forEach((child) => {\n                setVariants(child, variantLabels);\n            });\n        }\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls, setValues };\n","\"use client\";\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { animationControls } from './animation-controls.mjs';\n\n/**\n * Creates `LegacyAnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `LegacyAnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimationControls() {\n    const controls = useConstant(animationControls);\n    useIsomorphicLayoutEffect(controls.mount, []);\n    return controls;\n}\nconst useAnimation = useAnimationControls;\n\nexport { useAnimation, useAnimationControls };\n","\"use client\";\nimport { motionValue } from 'motion-dom';\nimport { useContext, useState, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    const value = useConstant(() => motionValue(initial));\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    const { isStatic } = useContext(MotionConfigContext);\n    if (isStatic) {\n        const [, setLatest] = useState(initial);\n        useEffect(() => value.on(\"change\", setLatest), []);\n    }\n    return value;\n}\n\nexport { useMotionValue };\n","\"use client\";\nimport { cancelFrame, frame } from 'motion-dom';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    const value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    const updateValue = () => value.set(combineValues());\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useIsomorphicLayoutEffect(() => {\n        const scheduleUpdate = () => frame.preRender(updateValue, false, true);\n        const subscriptions = values.map((v) => v.on(\"change\", scheduleUpdate));\n        return () => {\n            subscriptions.forEach((unsubscribe) => unsubscribe());\n            cancelFrame(updateValue);\n        };\n    });\n    return value;\n}\n\nexport { useCombineMotionValues };\n","\"use client\";\nimport { transform } from 'motion-dom';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\nimport { useComputed } from './use-computed.mjs';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    if (typeof input === \"function\") {\n        return useComputed(input);\n    }\n    const transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], ([latest]) => transformer(latest));\n}\nfunction useListTransform(values, transformer) {\n    const latest = useConstant(() => []);\n    return useCombineMotionValues(values, () => {\n        latest.length = 0;\n        const numValues = values.length;\n        for (let i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n","\"use client\";\nimport { collectMotionValues } from 'motion-dom';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\n\nfunction useComputed(compute) {\n    /**\n     * Open session of collectMotionValues. Any MotionValue that calls get()\n     * will be saved into this array.\n     */\n    collectMotionValues.current = [];\n    compute();\n    const value = useCombineMotionValues(collectMotionValues.current, compute);\n    /**\n     * Synchronously close session of collectMotionValues.\n     */\n    collectMotionValues.current = undefined;\n    return value;\n}\n\nexport { useComputed };\n","import { interpolate } from './interpolate.mjs';\n\nfunction transform(...args) {\n    const useImmediate = !Array.isArray(args[0]);\n    const argOffset = useImmediate ? 0 : -1;\n    const inputValue = args[0 + argOffset];\n    const inputRange = args[1 + argOffset];\n    const outputRange = args[2 + argOffset];\n    const options = args[3 + argOffset];\n    const interpolator = interpolate(inputRange, outputRange, options);\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nexport { transform };\n","import React, { useEffect, useRef, useState } from 'react';\nimport { motion, useAnimation, useMotionValue, useTransform, AnimatePresence } from 'framer-motion';\n\n// --- SVGs for Checks ---\nconst SingleCheck = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" className=\"msg-check single\">\n    <path d=\"M13.5 4.5L6.5 11.5L3 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n  </svg>\n);\n\nconst DoubleCheck = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 16\" fill=\"none\" className=\"msg-check double\">\n    <path d=\"M13.5 4.5L6.5 11.5L3 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    <path d=\"M17.5 4.5L10.5 11.5L8 9\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" opacity=\"0.6\" />\n  </svg>\n);\n\nconst Message = ({ msg, user, setReplyTo, onContextMenu }) => {\n  const isMe = msg.user === user;\n  const controls = useAnimation();\n  const x = useMotionValue(0);\n  const opacity = useTransform(x, [-100, 0], [0, 1]); // Fade reply icon icon\n\n  // Haptic Feedback Logic\n  const handleDragEnd = (_, info) => {\n    if (info.offset.x < -60) {\n      // Trigger Reply\n      if (navigator.vibrate) navigator.vibrate(10);\n      setReplyTo(msg);\n      controls.start({ x: 0 }); // Snap back\n    } else {\n      controls.start({ x: 0 }); // Snap back\n    }\n  };\n\n  // Helper to detect RTL characters (Arabic, Persian, Hebrew)\n  const isRTL = (text) => {\n    const rtlChar = /[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]/;\n    return rtlChar.test(text);\n  };\n\n  // Spoiler Component\n  const Spoiler = ({ text }) => {\n    const [revealed, setRevealed] = useState(false);\n    return (\n      <span\n        className={`spoiler ${revealed ? 'revealed' : ''}`}\n        onClick={(e) => { e.stopPropagation(); setRevealed(true); }}\n      >\n        {text}\n      </span>\n    );\n  };\n\n  const parseText = (text) => {\n    // Regex for ||spoiler||\n    const parts = text.split(/(\\|\\|.*?\\|\\|)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('||') && part.endsWith('||')) {\n        return <Spoiler key={index} text={part.slice(2, -2)} />;\n      }\n      return part;\n    });\n  };\n\n  const renderContent = () => {\n    switch (msg.type) {\n      case 'image':\n        return <img src={msg.msg} alt=\"attachment\" className=\"msg-image\" />;\n      case 'video':\n        return (\n          <div className=\"video-msg-wrapper\" style={{ position: 'relative', display: 'inline-block' }}>\n            <video src={msg.msg} controls className=\"msg-video\" />\n            <a href={msg.msg} download className=\"video-download-btn\">‚¨á</a>\n          </div>\n        );\n      case 'audio':\n        return <audio src={msg.msg} controls className=\"msg-audio\" />;\n      case 'file':\n        const filename = msg.msg.split('/').pop().split('_').slice(2).join('_');\n        return (\n          <a href={msg.msg} target=\"_blank\" rel=\"noopener noreferrer\" className=\"msg-file\">\n            üìÑ {filename || 'Download File'}\n          </a>\n        );\n      default:\n        const direction = isRTL(msg.msg) ? 'rtl' : 'ltr';\n        return (\n          <div className=\"msg-text\" style={{ direction: direction, textAlign: direction === 'rtl' ? 'right' : 'left' }}>\n            {parseText(msg.msg)}\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"message-row\" style={{ display: 'flex', position: 'relative', flexDirection: 'column', alignItems: isMe ? 'flex-end' : 'flex-start' }}>\n      <motion.div\n        className={`message ${isMe ? 'me' : 'other'} ${msg.type}`}\n        drag=\"x\"\n        dragConstraints={{ left: 0, right: 0 }}\n        dragElastic={{ left: 0.5, right: 0 }}\n        onDragEnd={handleDragEnd}\n        animate={controls}\n        whileDrag={{ scale: 0.98 }}\n      >\n        {/* Reply Icon (Hidden until swiped) */}\n        <motion.div style={{ position: 'absolute', right: -40, top: '50%', y: '-50%', opacity: useTransform(x, [-60, 0], [1, 0]) }}>\n          ‚Ü©\n        </motion.div>\n\n        {/* Reply Context - Telegram Style */}\n        {msg.reply_context && (\n          <div className=\"message-reply-context\">\n            <div className=\"reply-line\"></div>\n            <div className=\"reply-content\">\n              <div className=\"reply-author\">Replying to</div>\n              <div className=\"reply-text\">\n                {msg.reply_context.type === 'text' ? msg.reply_context.msg : `[${msg.reply_context.type}]`}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Content */}\n        <div className=\"msg-content-wrapper\">\n          {renderContent()}\n        </div>\n\n        {/* Time & Checks */}\n        <div className=\"msg-meta\">\n          <span className=\"msg-time\">\n            {new Date(msg.timestamp * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n          </span>\n          {isMe && (\n            <span className=\"msg-status\">\n              {/* Logic: Single Check (Sent) -> Double Check (Read). For now simulate generic Double Check */}\n              <DoubleCheck />\n            </span>\n          )}\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nconst ChatWindow = ({ messages, user, setReplyTo, onLoadMore }) => {\n  const chatWindowRef = useRef(null);\n  const scrollSentinelRef = useRef(null);\n  const [shouldAutoScroll, setShouldAutoScroll] = useState(true);\n  const [isLoadingHistory, setIsLoadingHistory] = useState(false);\n\n  // Check if we should auto-scroll before updates\n  const handleScroll = () => {\n    if (chatWindowRef.current) {\n      const { scrollTop, scrollHeight, clientHeight } = chatWindowRef.current;\n      const isNearBottom = scrollHeight - scrollTop - clientHeight < 100;\n      setShouldAutoScroll(isNearBottom);\n\n      // Infinite Scroll: Load more when near top\n      if (scrollTop < 50 && !isLoadingHistory && messages.length > 0) {\n        setIsLoadingHistory(true);\n        // Find oldest message timestamp\n        const oldestMsg = messages[0];\n        if (oldestMsg && onLoadMore) {\n          onLoadMore(oldestMsg.timestamp).finally(() => {\n            setIsLoadingHistory(false);\n          });\n        }\n      }\n    }\n  };\n\n  // Effect to handle auto-scrolling\n  useEffect(() => {\n    if (shouldAutoScroll && scrollSentinelRef.current) {\n      scrollSentinelRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages, shouldAutoScroll]);\n\n  // Context Menu State\n  const [contextMenu, setContextMenu] = useState(null); // { x, y, msg }\n\n  const handleContextMenu = (e, msg) => {\n    e.preventDefault();\n    // Calculate position\n    let x = e.clientX;\n    let y = e.clientY;\n\n    // Flip logic\n    const screenW = window.innerWidth;\n    const screenH = window.innerHeight;\n    const menuW = 150;\n    const menuH = 120;\n\n    if (x + menuW > screenW) x = screenW - menuW - 10;\n    if (y + menuH > screenH) y = screenH - menuH - 10;\n\n    setContextMenu({ x, y, msg });\n  };\n\n  const closeContextMenu = () => setContextMenu(null);\n\n  // Close context menu on click elsewhere\n  useEffect(() => {\n    const handleClick = () => setContextMenu(null);\n    window.addEventListener('click', handleClick);\n    return () => window.removeEventListener('click', handleClick);\n  }, []);\n\n  return (\n    <div\n      className=\"chat-window\"\n      ref={chatWindowRef}\n      onScroll={handleScroll}\n    >\n      {isLoadingHistory && <div className=\"loading-history\">Loading history...</div>}\n\n      {messages.map((msg, index) => (\n        <Message\n          key={msg.id || `${msg.timestamp}-${index}`}\n          msg={msg}\n          user={user}\n          setReplyTo={setReplyTo}\n          onContextMenu={(e) => handleContextMenu(e, msg)}\n        />\n      ))}\n      <div ref={scrollSentinelRef} className=\"chat-spacer\"></div>\n\n      {/* Custom Context Menu */}\n      <AnimatePresence>\n        {contextMenu && (\n          <motion.div\n            className=\"custom-context-menu\"\n            style={{ top: contextMenu.y, left: contextMenu.x }}\n            initial={{ opacity: 0, scale: 0.8 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.8 }}\n            transition={{ type: 'spring', stiffness: 300, damping: 20 }}\n          >\n            <div className=\"menu-item\" onClick={() => { setReplyTo(contextMenu.msg); closeContextMenu(); }}>‚Ü© Reply</div>\n            <div className=\"menu-item\" onClick={() => { navigator.clipboard.writeText(contextMenu.msg.msg); closeContextMenu(); }}>üìã Copy</div>\n            <div className=\"menu-item\" onClick={() => closeContextMenu()}>‚úèÔ∏è Edit</div>\n            <div className=\"menu-item\" onClick={() => closeContextMenu()}>‚û°Ô∏è Forward</div>\n            <div className=\"menu-item delete\" onClick={() => closeContextMenu()}>üóëÔ∏è Delete</div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default ChatWindow;\n"],"names":["setVariants","visualElement","variantLabels","reverse","forEach","key","variant","getVariant","setTarget","variantChildren","child","animationControls","hasMounted","subscribers","Set","controls","subscribe","add","delete","start","definition","transitionOverride","invariant","animations","push","animateVisualElement","Promise","all","set","Array","isArray","setValues","stop","values","value","stopAnimation","mount","useAnimation","useConstant","useIsomorphicLayoutEffect","useMotionValue","initial","motionValue","isStatic","useContext","MotionConfigContext","setLatest","useState","useEffect","on","useCombineMotionValues","combineValues","updateValue","scheduleUpdate","frame","preRender","subscriptions","map","v","unsubscribe","cancelFrame","useTransform","input","inputRangeOrTransformer","outputRange","options","compute","collectMotionValues","current","undefined","useComputed","transformer","useImmediate","arguments","length","argOffset","inputValue","inputRange","interpolator","interpolate","transform","useListTransform","_ref","latest","numValues","i","get","DoubleCheck","_jsxs","width","height","viewBox","fill","className","children","_jsx","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","opacity","Message","msg","user","setReplyTo","onContextMenu","isMe","x","Spoiler","_ref2","text","revealed","setRevealed","concat","onClick","e","stopPropagation","parseText","split","part","index","startsWith","endsWith","slice","style","display","position","flexDirection","alignItems","motion","div","type","drag","dragConstraints","left","right","dragElastic","onDragEnd","handleDragEnd","_","info","offset","navigator","vibrate","animate","whileDrag","scale","top","y","reply_context","renderContent","src","alt","href","download","filename","pop","join","target","rel","direction","test","textAlign","Date","timestamp","toLocaleTimeString","hour","minute","_ref3","messages","onLoadMore","chatWindowRef","useRef","scrollSentinelRef","shouldAutoScroll","setShouldAutoScroll","isLoadingHistory","setIsLoadingHistory","scrollIntoView","behavior","contextMenu","setContextMenu","closeContextMenu","handleClick","window","addEventListener","removeEventListener","ref","onScroll","handleScroll","scrollTop","scrollHeight","clientHeight","oldestMsg","finally","handleContextMenu","preventDefault","clientX","clientY","screenW","innerWidth","screenH","innerHeight","id","AnimatePresence","exit","transition","stiffness","damping","clipboard","writeText"],"ignoreList":[],"sourceRoot":""}